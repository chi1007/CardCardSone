<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="{{ url_for('static', filename='image/icon/Croissant1.png') }}">
    <title>推薦結果</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/recommend_result.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/common.css') }}">
</head>
<body>

    <button class="back-to-top" onclick="scrollToTop()"> <b>↑</b> </button>
    
    {% include 'header.html' %}
    
<div class="container">
    <h1 class="title">推薦結果</h1>
    <p>{{ user_analysis }}</p>
    <div class="card-container">
        {% for card in recommended_cards %}
        <img src="{{ card.img }}" alt="{{ card.name }}" class="img-fluid" width="300" height="300">
        {% endfor %}
    </div>
    <table class="table table-responsive">
        <thead class="thead-dark">
            <tr class="title">
                <th>推薦卡片</th>
                {% for card, dist in closest_cards %}
                <th>{{ card }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            <tr class="item">
                <th>銀行名稱</th>
                {% for card in recommended_cards %}
                <td>{{ card.bankname }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>卡片類型</th>
                {% for card in recommended_cards %}
                <td>{{ card.card_type }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>特色標籤</th>
                {% for card in recommended_cards %}
                <td>{{ card.tag }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>基本回饋</th>
                {% for card in recommended_cards %}
                <td>{{ card.basic_rewards }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>加碼回饋</th>
                {% for card in recommended_cards %}
                <td>{{ card.additional_benefits }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>海外消費</th>
                {% for card in recommended_cards %}
                <td>{{ card.overseas_spending }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>網購優惠</th>
                {% for card in recommended_cards %}
                <td>{{ card.online_shopping_discounts }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>行動支付</th>
                {% for card in recommended_cards %}
                <td>{{ card.mobile_payment }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>通勤交通</th>
                {% for card in recommended_cards %}
                <td>{{ card.commute_expenses }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>生活繳費</th>
                {% for card in recommended_cards %}
                <td>{{ card.utilities_payment }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>餐飲外送</th>
                {% for card in recommended_cards %}
                <td>{{ card.food_delivery }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>影音娛樂</th>
                {% for card in recommended_cards %}
                <td>{{ card.entertainment }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>旅遊訂房</th>
                {% for card in recommended_cards %}
                <td>{{ card.travel_booking }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>量販百貨</th>
                {% for card in recommended_cards %}
                <td>{{ card.department_stores }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>發卡組織</th>
                {% for card in recommended_cards %}
                <td>{{ card.type }}</td>
                {% endfor %}
            </tr>
            <tr class="item">
                <th>官方連結</th>
                {% for card in recommended_cards %}
                <td>
                    <a href="{{ card.website }}" target="_blank">
                        <button class="website">官方申辦</button>
                    </a>
                </td>
                {% endfor %}
            </tr>
        </tbody>
    </table>
</div>

    {% include 'footer.html' %}
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <!-- Popper.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/common.js') }}"></script>
    </body>
    
    </html>
